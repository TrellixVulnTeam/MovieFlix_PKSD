{"ast":null,"code":"var _jsxFileName = \"/home/marina/Desktop/MovieFlix/src/pages/Movies/Filter/index.tsx\",\n    _s = $RefreshSig$();\n\nimport \"./styles.css\";\nimport Select from \"react-select\";\nimport { useEffect, useState } from \"react\";\nimport { requestBackend } from \"../../../util/requests\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Filter = _ref => {\n  _s();\n\n  let {\n    onSubmitFilter\n  } = _ref;\n  const [selectGenres, setSelectedGenres] = useState([]);\n  useEffect(() => {\n    requestBackend({\n      url: \"/genres\",\n      withCredentials: true\n    }).then(response => {\n      setSelectedGenres(response.data);\n    });\n  }, []);\n\n  const handleChangeGenre = value => {\n    const obj = {\n      genre: value\n    };\n    onSubmitFilter(obj);\n  };\n\n  const customStyles = {\n    option: (provided, state) => ({ ...provided,\n      background: state.isSelected ? '#312f2f' : '#6c6c6c',\n      height: '50px'\n    })\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form-filter\",\n    children: /*#__PURE__*/_jsxDEV(Select, {\n      options: selectGenres,\n      getOptionLabel: genre => genre.name,\n      getOptionValue: genre => String(genre.id),\n      classNamePrefix: \"form-filter-select\",\n      styles: customStyles,\n      isClearable: true,\n      onChange: value => handleChangeGenre(value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Filter, \"/mK2V57XDeQjzrsORkdHzVVv8GM=\");\n\n_c = Filter;\nexport default Filter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Filter\");","map":{"version":3,"names":["Select","useEffect","useState","requestBackend","Filter","onSubmitFilter","selectGenres","setSelectedGenres","url","withCredentials","then","response","data","handleChangeGenre","value","obj","genre","customStyles","option","provided","state","background","isSelected","height","name","String","id"],"sources":["/home/marina/Desktop/MovieFlix/src/pages/Movies/Filter/index.tsx"],"sourcesContent":["import \"./styles.css\";\n\nimport Select, { StylesConfig} from \"react-select\";\nimport { useEffect, useState } from \"react\";\nimport { requestBackend } from \"../../../util/requests\";\nimport { Genre } from \"../../../types/genre\";\n\nexport type GenreFilterData = {\n  genre: Genre | null;\n}\n\ntype Props = {\n  onSubmitFilter: (data : GenreFilterData) => void;\n}\n\nconst Filter = ({onSubmitFilter} : Props) => {\n  const [selectGenres, setSelectedGenres] = useState<Genre[]>([]);\n\n  useEffect(() => {\n    requestBackend({ url: \"/genres\", withCredentials: true }).then((response) => {\n      setSelectedGenres(response.data);\n    });\n  }, []);\n\n  const handleChangeGenre = (value: Genre) =>{\n    const obj : GenreFilterData = {\n      genre: value\n    }\n    onSubmitFilter(obj);\n  }\n\n  const customStyles : StylesConfig<Genre> = {\n    option: (provided, state) => ({\n      ...provided,\n      background: state.isSelected ? '#312f2f' : '#6c6c6c',\n      height: '50px',\n    })\n  }\n\n  return (\n    <form className=\"form-filter\">\n      <Select\n        options={selectGenres}\n        getOptionLabel={(genre: Genre) => genre.name}\n        getOptionValue={(genre: Genre) => String(genre.id)}\n        classNamePrefix=\"form-filter-select\"\n        styles={customStyles}\n        isClearable\n        onChange={(value) => handleChangeGenre(value as Genre)}\n      />\n    </form>\n  );\n};\nexport default Filter;\n"],"mappings":";;;AAAA,OAAO,cAAP;AAEA,OAAOA,MAAP,MAAoC,cAApC;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,cAAT,QAA+B,wBAA/B;;;AAWA,MAAMC,MAAM,GAAG,QAA8B;EAAA;;EAAA,IAA7B;IAACC;EAAD,CAA6B;EAC3C,MAAM,CAACC,YAAD,EAAeC,iBAAf,IAAoCL,QAAQ,CAAU,EAAV,CAAlD;EAEAD,SAAS,CAAC,MAAM;IACdE,cAAc,CAAC;MAAEK,GAAG,EAAE,SAAP;MAAkBC,eAAe,EAAE;IAAnC,CAAD,CAAd,CAA0DC,IAA1D,CAAgEC,QAAD,IAAc;MAC3EJ,iBAAiB,CAACI,QAAQ,CAACC,IAAV,CAAjB;IACD,CAFD;EAGD,CAJQ,EAIN,EAJM,CAAT;;EAMA,MAAMC,iBAAiB,GAAIC,KAAD,IAAiB;IACzC,MAAMC,GAAqB,GAAG;MAC5BC,KAAK,EAAEF;IADqB,CAA9B;IAGAT,cAAc,CAACU,GAAD,CAAd;EACD,CALD;;EAOA,MAAME,YAAkC,GAAG;IACzCC,MAAM,EAAE,CAACC,QAAD,EAAWC,KAAX,MAAsB,EAC5B,GAAGD,QADyB;MAE5BE,UAAU,EAAED,KAAK,CAACE,UAAN,GAAmB,SAAnB,GAA+B,SAFf;MAG5BC,MAAM,EAAE;IAHoB,CAAtB;EADiC,CAA3C;EAQA,oBACE;IAAM,SAAS,EAAC,aAAhB;IAAA,uBACE,QAAC,MAAD;MACE,OAAO,EAAEjB,YADX;MAEE,cAAc,EAAGU,KAAD,IAAkBA,KAAK,CAACQ,IAF1C;MAGE,cAAc,EAAGR,KAAD,IAAkBS,MAAM,CAACT,KAAK,CAACU,EAAP,CAH1C;MAIE,eAAe,EAAC,oBAJlB;MAKE,MAAM,EAAET,YALV;MAME,WAAW,MANb;MAOE,QAAQ,EAAGH,KAAD,IAAWD,iBAAiB,CAACC,KAAD;IAPxC;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAaD,CArCD;;GAAMV,M;;KAAAA,M;AAsCN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}